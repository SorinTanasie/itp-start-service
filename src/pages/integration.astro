---
import CustomAccordion from "@/components/CustomAccordion";
import ImageMod from "@/components/ImageMod.astro";
import Base from "@/layouts/Base.astro";
import { markdownify } from "@/lib/utils/textConverter";
import { getEntry } from "astro:content";

const integration = await getEntry("integration", "-index");
const { title, description, integrations } = integration.data;

const faq = await getEntry("sections", "faq");
---

<Base title={title} description={description}>
  <section class="section" data-aos="fade-up-sm">
    <div class="container">
      <h1
        set:html={markdownify(title)}
        class="text-center max-xl:h2 text-balance mb-6"
        data-aos="fade-up-sm"
        data-aos-delay="100"
      />
      <p set:html={markdownify(description)} class="text-center text-balance" />
      <div class="row g-4 mt-10">
        {
          integrations.map((i: any) => (
            <div
              class="col-12 md:col-6 lg:col-4 2xl:col-3 max-h-full"
              data-aos="fade-up-sm"
              data-aos-delay={i * 100}
            >
              <div class="p-7 border rounded-lg h-full">
                <div class="flex flex-col md:flex-row items-center mb-6">
                  <ImageMod
                    src={i.logo}
                    alt={i.logo}
                    width={61}
                    height={61}
                    format="svg"
                    class="mr-6"
                  />
                  <h5
                    set:html={markdownify(i.name)}
                    class="text-center text-xl"
                  />
                </div>

                <p
                  set:html={markdownify(i.details)}
                  class="text-lg text-text/70"
                />
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </section>

  <CustomAccordion faqs={faq.data} client:load />
</Base>
